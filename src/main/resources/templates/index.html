<!DOCTYPE html>
<html xmlns:th="http://www.tymeleaf.org">
<head>
<meta charset="UTF-8">
<title>好きなもの管理システム</title>
<link rel="stylesheet" href="css/style.css">
<script>
function fadeOutPage() {
    document.body.style.opacity = 1;
    var fadeEffect = setInterval(function () {
        if (!document.body.style.opacity) {
            document.body.style.opacity = 1;
        }
        if (document.body.style.opacity > 0) {
            document.body.style.opacity -= 0.1;
        } else {
            clearInterval(fadeEffect);
            window.location.href = 'register'; // ここで遷移先のURLを指定します
        }
    }, 50);
}
</script>
</head>
<body>
	<div class="header">
		<h1>好きなものを記録するアプリ</h1>
		<div class="register">
			<button type="button" onclick="fadeOutPage()">登録</button>
		</div>
	</div>
	<hr>
	<div class="table-container">
		<table>
			<thead>
				<tr>
					<th scope="col">タイトル</th>
					<th scope="col">登録日</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="todo : ${todos}">
					<td><a th:href="@{'/detail/' + ${todo.id}}" th:text="${todo.title}"></a></td>
					<td><span th:text="${todo.created_at}"></span></td>
				</tr>
			</tbody>
		</table>
	</div>










	<!-- <form method="post" th:action="@{/update}" th:each="todo : ${todos}">
		<input type="checkbox" name="done_flg" value="1" /> <input
			type="text" name="id" th:value="${todo.id}" readonly="readonly" /> <input
			type="text" name="title" th:value="${todo.title}" /> <input
			type="date" name="created_at" th:value="${todo.created_at}" /> <input
			type="submit" value="更新" />
	</form>

	<h3>飽きた好きなもの</h3>
	<form method="post" th:action="@{/update}"
		th:each="todo : ${doneTodos}">
		<input type="checkbox" name="done_flg" value="1" /> <input
			type="text" name="id" th:value="${todo.id}" readonly="readonly" /> <input
			type="text" name="title" th:value="${todo.title}"
			style="text-decoration: line-through" /> <input type="date"
			name="time_limit" th:value="${todo.time_limit}" /> <input
			type="submit" value="更新" />
	</form>


	<h3>新しい好きなものを追加</h3>
	<form method="post" th:action="@{/add}">
		<input type="text" name="title" />
		<input type="submit" name="追加" />
	</form>

	<form method="post" th:action="@{delete}">
		<input type="submit" value="完了済みを削除" />
	</form> -->

</body>
</html>